---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import DotBackground from '../components/ui/dot-background';
import ArtGallery from '../components/art/art-gallery';
import ArtHeroText from '../components/art/art-hero-text';

const artPieces = await getCollection('art');
const artData = artPieces.map(piece => ({
	slug: piece.slug,
	title: piece.data.title,
	description: piece.data.description,
	heroImage: typeof piece.data.heroImage === 'string' ? piece.data.heroImage : piece.data.heroImage?.src,
	category: piece.data.category,
	featured: piece.data.featured
}));
---

<BaseLayout 
	title="3D Art Gallery | Carlos Garcia | Digital Sculptures & Environments" 
	description="Explore the 3D art portfolio of Carlos Garcia featuring digital sculptures, procedural environments, character work, and creative experiments in Houdini, Blender, and other 3D tools."
	keywords="3D Art, Digital Sculpture, 3D Environments, Houdini Art, Blender Art, Character Design, Procedural Art, Technical Art Portfolio"
>
<Header />
	<main class="min-h-screen w-full bg-white dark:bg-zinc-950 text-gray-900 dark:text-gray-200">
		<DotBackground client:idle />
		
		<!-- Hero Section -->
		<div class="relative z-10 w-full py-8 md:py-12 lg:py-16">
			<div class="max-w-[90rem] mx-auto px-6 sm:px-8 md:px-12 lg:px-16">
				<h1 class="text-4xl sm:text-5xl md:text-6xl font-normal text-gray-800 dark:text-white mb-6">
					Art
				</h1>
				<ArtHeroText client:visible />
				
				<!-- Gallery with Filter -->
				<ArtGallery artPieces={artData} client:load />
			</div>
		</div>
	</main>
<Footer />
</BaseLayout>
