---
import { Image } from 'astro:assets';
import logoSvg from '../../assets/brand/logo.svg';
import { ThemeToggle } from '../ui/theme-toggle';

const currentPath = Astro.url.pathname;
---

<div class="w-full bg-background/90 backdrop-blur-sm sticky top-0 left-0 right-0 z-50" transition:persist>
    <div class="max-w-[90rem] mx-auto px-6 sm:px-8 md:px-12 lg:px-16">
        <div class="flex h-16 items-center justify-between border-b border-border/50">
        <a href="/" class="flex items-end gap-x-3 hover:scale-105 transition-transform duration-200">
            <Image
                src={logoSvg}
                width={24}
                height={24}
                alt="Carlos Garcia Logo"
                loading="eager"
                class="dark:brightness-[.85] mb-[2px]"
                transition:name="site-logo"
                transition:animate="initial"
            />
            <span class="text-xl font-bold text-foreground hover:text-accent transition-colors leading-none" transition:name="site-title">
                carlosgarcia.works
            </span>
        </a>
        
        <div class="flex items-center gap-x-8">
            <nav class="hidden md:block">
                <ul class="flex gap-x-6 lg:gap-x-8">
                    <li>
                        <a href="/art" class={`text-base inline-block hover:text-accent hover:scale-105 transition-all duration-200 ${currentPath.startsWith('/art') ? 'text-accent scale-105' : 'text-foreground-secondary'}`}>
                            Art
                        </a>
                    </li>
                    <li>
                        <a href="/code" class={`text-base inline-block hover:text-accent hover:scale-105 transition-all duration-200 ${currentPath.startsWith('/code') ? 'text-accent scale-105' : 'text-foreground-secondary'}`}>
                            Code
                        </a>
                    </li>
                    <li>
                        <a href="/learn" class={`text-base inline-block hover:text-accent hover:scale-105 transition-all duration-200 ${currentPath.startsWith('/learn') ? 'text-accent scale-105' : 'text-foreground-secondary'}`}>
                            Learn
                        </a>
                    </li>
                    <li>
                        <a href="/log" class={`text-base inline-block hover:text-accent hover:scale-105 transition-all duration-200 ${currentPath.startsWith('/log') ? 'text-accent scale-105' : 'text-foreground-secondary'}`}>
                            Log
                        </a>
                    </li>
                    <li>
                        <a href="/vult" class={`text-base inline-block hover:text-accent hover:scale-105 transition-all duration-200 ${currentPath.startsWith('/vult') ? 'text-accent scale-105' : 'text-foreground-secondary'}`}>
                            Vult
                        </a>
                    </li>
                    <li>
                        <a href="/about" class={`text-base inline-block hover:text-accent hover:scale-105 transition-all duration-200 ${currentPath.startsWith('/about') ? 'text-accent scale-105' : 'text-foreground-secondary'}`}>
                            About
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div transition:persist="theme-toggle">
                <ThemeToggle client:visible />
            </div>
        </div>
    </div>
</div>
